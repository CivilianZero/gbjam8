pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
--main
function _init()
 t=0
 
 dirx={-1,1,0,0}
 diry={0,0,-1,1}
 
	menu_init()
end

function menu_init()
	_upd=update_menu
	_drw=draw_menu
end

function game_start()
 c_ani={1,3}
 cx=1
 cy=1

	_upd=update_game
	_drw=draw_game
end
-->8
--update
function _update()
 t+=1
 _upd()
end

function update_menu()
	if (btn(❎)) game_start()
end

function update_game()
	for i=0,3 do
		if btnp(i) then
			cx+=dirx[i+1]
			cy+=diry[i+1]
		end
	end
end
-->8
--draw
function _draw()
 _drw()
end

function draw_menu()
 cls()
	print("press ❎ to start",31,63,7)
end

function draw_game()
	cls()
	map()
	drawspr(
	 animate(c_ani),
	 cx*16,
	 cy*16,false)
end
-->8
--utility
function drawspr(_spr,_x,_y,_flip)
	palt(0,false)
	palt(1,true)
	spr(_spr,_x,_y,2,2,_flip)
	pal()
end

function animate(ani)
	return ani[flr(t/15)%#ani+1]
end
__gfx__
00000000777777711777777711111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000700055711755000717777777777777710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700707777711777770717000557755000710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000707111111111170717077777777770710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000757111111111175717071111111170710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700757111111111175717571111111175710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777111111111177717571111111175710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000111111111111111117771111111177710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000111111111111111117771111111177710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777111111111177717571111111175710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000757111111111175717571111111175710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000757111111111175717071111111170710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000707111111111170717077777777770710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000707777711777770717000557755000710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000700055711755000717777777777777710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777777711777777711111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06666660066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06666660066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06666660066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06666660066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06666660066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06666660066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4142414241424142414241424142414200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5152515251525152515251525152515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4142414241424142414241424142414200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5152515251525152515251525152515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4142414241424142414241424142414200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5152515251525152515251525152515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4142414241424142414241424142414200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5152515251525152515251525152515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4142414241424142414241424142414200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5152515251525152515251525152515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4142414241424142414241424142414200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5152515251525152515251525152515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4142414241424142414241424142414200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5152515251525152515251525152515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4142414241424142414241424142414200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5152515251525152515251525152515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
